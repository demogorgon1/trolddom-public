expression .svara_can_afford:
{
	less_than_or_equal: 
	{
		client_untrain_talents_price: {}
		client_wallet_cash: {}
	}
}

dialogue_screen .svara_greetings:
{
	text: 
	[	
		"I'm Svara the resident deprogrammer.\n"
		"\n"
		"My services are reasonably priced at {$client_untrain_talents_price$}."
	]
	
	options:
	[
		{ 
			text: "Yes, please, I want to forget everything." 
			script: untrain_talents 
			condition: .svara_can_afford 
			confirmation: "This will reset all your talent points.\n\nDo you want to proceed?"
		}
		
		{ quest: .timeweaver_10 }
		{ quest<completion_only>: .timeweaver_10 }
		{ quest: .timeweaver_20 }
		{ quest<completion_only>: .timeweaver_20 }
		{ quest: .timeweaver_30 }
		{ quest<completion_only>: .timeweaver_30 }
	]
}

dialogue_root .svara_dialogue:
{
	.svara_greetings: { }
}

entity .svara: !NPC
{
	_string: "Svara the Deprogrammer"
	_dialogue_root: .svara_dialogue	
	_dialogue_scripts: [ untrain_talents ]	
	_sprite: woman_3
	_sprite_dead: woman_3_dead	
	_level: 10
	_faction: npcs		
	_creature_type: humanoid
	_loot_table: .npc
	_not_pushable: true	
}

############################################################
# Test Progression Quests

quest .timeweaver_10:
{
	string: "Thread of Fate: A Moment"
	text: [ "Speak with Svara." ]
	description: [ "Skip ahead just a little. A few weeks, maybe a month. Enough to learn a new trick or two.\n\nBarely any paradoxes at all." ]
	completion: [ "A brief flash of the future. You blink and it's over, but something stuck." ]
	level: 10
	reward_cash_multiplier: 3
	reward_xp_multiplier: 3
	repeat_mode: always
}

quest .timeweaver_20:
{
	string: "Thread of Fate: A Season"
	text: [ "Speak with Svara." ]
	description: [ "Skip ahead a few seasons. Watch the leaves change in fast-forward. Your future self has been busy.\n\nMinor temporal headache expected." ]
	completion: [ "Months of experience compressed into a heartbeat. Your head hurts, but in a productive way." ]
	level: 13
	reward_cash_multiplier: 8
	reward_xp_multiplier: 8
	repeat_mode: always
}

quest .timeweaver_30:
{
	string: "Thread of Fate: A Year"
	text: [ "Speak with Svara." ]
	description: [ "Skip ahead a full year. Birthdays, holidays, countless battles - all absorbed in an instant.\n\nCausality is just a suggestion anyway." ]
	completion: [ "A year of your life you'll never actually live. Worth it? Your future self seems to think so." ]
	level: 23
	reward_cash_multiplier: 15
	reward_xp_multiplier: 15
	repeat_mode: always
}
