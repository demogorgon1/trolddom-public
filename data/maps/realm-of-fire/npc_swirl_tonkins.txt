dialogue_screen .swirl_tonkins_greetings:
{
	text: 
	[	
		"Oh, hello. Didn't expect anyone to show up here."
	]				
	
	options:
	[
		{ quest<offer_only>: realm_of_fire_swirl_tonkins_1 }
		{ quest<completion_only>: thalvaron_ghorm_1 }
		{ quest: .swirl_tonkins_2 }
		{ quest<offer_only>: .swirl_tonkins_3 }
		{ quest<completion_only>: .enslaved_fire_elemental }
	]
}

dialogue_root .swirl_tonkins_dialogue:
{
	.swirl_tonkins_greetings: { }
}

entity .swirl_tonkins: !NPC
{
	_string: "Swirl Tonkins"
	_dialogue_root: .swirl_tonkins_dialogue
	_loot_table: .npc
	_faction: the_ember_covenant
	_level: 22
	_creature_type: humanoid
	_not_pushable: true
	_sprite: man_74
	_sprite_dead: man_74_dead
}
	
##########################################################################################
# Quest 1

quest realm_of_fire_swirl_tonkins_1:
{
	string: "Planar Attunement"

	text:
	[
		"Use the portal to return to Thalvaron and find Ghorm in Valoris."
	]
	
	description: 
	[
		"Now that you've entered this realm, your spirit has become attuned. This will make it easier for you to return here later if you wish to. Seek out Ghorm, an old friend of mine, who lives in Valoris. He can"
		"help provide you a talisman that will help you. The portal here will take out you to Thalvaron."
	]
	
	completion:
	[
		"You got attuned to the Realm of Fire? Excellent. This talisman should work for you. If Mr. Tonkins sent you it must be important."
	]

	level: 22
	reward_all_items: [ realm_of_fire_talisman ]
}

##########################################################################################
# Quest 2

objective .swirl_tonkins_2:
{
	string: "Lava Worms Slain"
	
	maps: [ realm_of_fire ]
	
	kill_npc: { entities: [ realm_of_fire_lava_worm ] count: 6 }	
}

quest .swirl_tonkins_2:
{
	string: "First Order of Business"

	text:
	[
		"Venture to the Smoldering Fields and kill lava worms."
	]
	
	description: 
	[
		"Before I'll task you with anything that's actually important, I'd like to see what you're made of. The Smoldering Fields west of here has been overrun with lava worms. They don't have anything"
		"to do with Voraghul, but they're quite annoying. Go and thin out their numbers."
	]
	
	progress:
	[
		"It's getting too hot for you?"
	]
	
	completion:
	[
		"Ah, good job."
	]

	level: 23
	prerequisites: [ thalvaron_ghorm_1 ]
	objectives: [ .swirl_tonkins_2 ]
}

##########################################################################################
# Quest 3

loot_group .swirl_tonkins_3_quest_item: {}

item .swirl_tonkins_3_quest_item:
{
	icon: icon_star_3
	item_level: 23
	loot_groups: [ .swirl_tonkins_3_quest_item ]
	flags: [ unique not_sellable ]
	string: "Glowing Amulet"
	flavor: "Ouch! It's burning hot."
}

objective .swirl_tonkins_3:
{
	string: "Glowing Amulet"
	
	maps: [ realm_of_fire ]
	
	collect_items: { item: .swirl_tonkins_3_quest_item count: 1 }
}

quest .swirl_tonkins_3:
{
	string: "Demonic Sorcery"

	text:
	[
		"Kill demons in the Bastion Courtyard until you find an amulet and return it to Ilhuna."
	]
	
	description: 
	[
		"I arrived here not long ago and haven't spend much time exploring. We need to hunt down the mad wizard and prevent him from tapping the powers of Solkara, but where he is and what he is doing exactly is"
		"a mystery. We know that he has summoned an army of demonic creatures and that these are present in great numbers to the north, around the great fortress of Urt.\n"
		"\n"
		"In the courtyard of the bastion a large number of these demons have been gathering. My scout, Ilhuna, has reported that some of these seem to be carrying weird looking amulets. We'd like to get a closer"
		"look at one of them, so I need you to find one, and return it to her. You'll find her in the north eastern corner of the courtyard."
	]
	
	progress:
	[
		"Do you have something for me?"
	]
	
	completion:
	[
		"Very interesting."
	]

	level: 23
	prerequisites: [ .swirl_tonkins_2 ]
	objectives: [ .swirl_tonkins_3 ]
}

