map_player_spawn .player_spawn: { }

map_player_spawn .throne_of_voraghul_spawn: { }
map_player_spawn .throne_of_voraghul_return_spawn: { }

zone .realm_of_voraghul_landing: { string: "The Charred Verge" }
zone .smoldering_fields: { string: "Smoldering Fields" }
zone .burning_approach: { string: "The Burning Approach" }
zone .bastion_courtyard: { string: "Bastion Courtyard" }
zone .fiery_rift: { string: "Fiery Crevice " }
zone .desolate_plains: { string: "Desolate Plains" }
zone .bastion_of_urt: { string: "Bastion of Urt" }
zone .altar_of_urt: { string: "Altar of Urt" }
zone .satyr_altar: { string: "Satyr Altar" }
zone .the_infernal_flow: { string: "The Infernal Flow" }
zone .voraghuls_landing: { string: "Voraghul's Landing" }
zone .throne_of_voraghul: { string: "Throne of Voraghul" no_map: true }
zone .ruined_tower: { string: "Tower Ruins" }
zone .magma_pass: { string: "Magma Pass" }
	
route realm_of_fire_default_patrol: { }

npc_behavior_state realm_of_fire_default_patrol_friendly:
{
	behavior: patrolling
	pause_when_targeted_by_nearby_player: true
}

npc_behavior_state realm_of_fire_default_patrol:
{
	behavior: patrolling
}

entity .throne_of_voraghul_portal:
{
	string: "Portal"	
	systems: [ openable ]	
	components:
	{
		position: { }		
		sprite<static>: 
		{ 
			animations:
			[
				{ 
					states: [ default in_combat spawning ] 
					frames: [ orange_gateway_1 orange_gateway_2 orange_gateway_3 ] 		
					frame_delay: 120 
					random_start_frame: true 
					z_offset: -3
				}
			]		
		}		
				
		openable: 
		{ 
			verb: use
			range: 1 
			level: 25
			trigger_ability: $ability
			{
				states: [ default ]
				direct_effect move: { map_player_spawn: .throne_of_voraghul_spawn move_flags: [ set_teleported affect_target ] }
			}			
			instant: true
		}	
	}
}

entity .throne_of_voraghul_return_portal:
{
	string: "Portal"	
	systems: [ openable ]	
	components:
	{
		position: { }		
		sprite<static>: 
		{ 
			animations:
			[
				{ 
					states: [ default in_combat spawning ] 
					frames: [ orange_gateway_1 orange_gateway_2 orange_gateway_3 ] 		
					frame_delay: 120 
					random_start_frame: true 
					z_offset: -3
				}
			]		
		}		
				
		openable: 
		{ 
			verb: use
			range: 1 
			level: 26
			trigger_ability: $ability
			{
				states: [ default ]
				direct_effect move: { map_player_spawn: .throne_of_voraghul_return_spawn move_flags: [ set_teleported affect_target ] }
			}			
			instant: true
		}	
	}
}

map_cliff .rocky_cliff: { cliff_style: rocks elevation: 1 }
map_cliff .rocky_cliff_ramp: { cliff_style: rocks elevation: 1 ramp: true }
map_cliff .badlands_cliff: { cliff_style: badlands elevation: 1 }
map_cliff .badlands_cliff_ramp: { cliff_style: badlands elevation: 1 ramp: true }
map_cliff .wall_cliff: { cliff_style: wall elevation: 1 }
map_cliff .wall_cliff_ramp: { cliff_style: wall elevation: 1 ramp: true }
map_cliff .dummy_cliff_0: { cliff_style: dummy elevation: 0 }
map_cliff .dummy_cliff_0_ramp: { cliff_style: dummy elevation: 0 ramp: true }
map_cliff .dummy_cliff_1: { cliff_style: dummy elevation: 1 } 
map_cliff .dummy_cliff_1_ramp: { cliff_style: dummy elevation: 1 ramp: true }
map_cliff .dummy_cliff_2: { cliff_style: dummy elevation: 2 }
map_cliff .dummy_cliff_2_ramp: { cliff_style: dummy elevation: 2 ramp: true }

map_palette .tiles: !DEFAULT_TILE_PALETTE{}

map_entity_spawn .exit_portal: { entity voraghul_portal_return_portal: { init_state: default } }
map_entity_spawn .throne_of_voraghul_portal: { entity .throne_of_voraghul_portal: { init_state: default } }
map_entity_spawn .throne_of_voraghul_return_portal: { entity .throne_of_voraghul_return_portal: { init_state: default } }
map_entity_spawn .mining: { spawn_timer: { despawn_required: true } entity mining_cindralite_vein: { init_state: default } }
map_entity_spawn .herbalism: { spawn_timer: { despawn_required: true } entity herbalism_ashveil: { init_state: default } }
map_entity_spawn .swirl_tonkins: { entity .swirl_tonkins: { init_state: default } }
map_entity_spawn .homunculus: { entity .homunculus: { init_state: default } }
map_entity_spawn .ilhuna: { entity .ilhuna: { init_state: default } }
map_entity_spawn .ilhuna_1_quest_item_a: { entity .ilhuna_1_quest_item_a: { init_state: default } spawn_timer: !QUEST_ITEM_RESPAWN_TIMER{} }
map_entity_spawn .ilhuna_1_quest_item_b: { entity .ilhuna_1_quest_item_b: { init_state: default } spawn_timer: !QUEST_ITEM_RESPAWN_TIMER{} }
map_entity_spawn .ilhuna_1_quest_item_c: { entity .ilhuna_1_quest_item_c: { init_state: default } spawn_timer: !QUEST_ITEM_RESPAWN_TIMER{} }
map_entity_spawn .ilhuna_1_quest_item_d: { entity .ilhuna_1_quest_item_d: { init_state: default } spawn_timer: !QUEST_ITEM_RESPAWN_TIMER{} }
map_entity_spawn .ilhuna_2_quest_item: { entity .ilhuna_2_quest_item: { init_state: default } spawn_timer: !QUEST_ITEM_RESPAWN_TIMER{} }
map_entity_spawn .ilhuna_3_quest_item_monster: { spawn_timer: { only_when_triggered: true } }
map_entity_spawn .ilhuna_3_quest_item: { entity .ilhuna_3_quest_item: { init_state: default } }

map_palette .stuff:
{
	entity_spawn spirit_stone: [ 0 0 0 ]	
	entity_spawn fire: [ 255 122 0 ]	
	
	entity_spawn .exit_portal: [ 130 88 66 ]
	entity_spawn .throne_of_voraghul_portal: [ 130 88 166 ]
	entity_spawn .throne_of_voraghul_return_portal: [ 230 88 66 ]
	entity_spawn .mining: [ 200 200 200 ]
	entity_spawn .herbalism: [ 0 255 0 ]
	entity_spawn .swirl_tonkins: [ 30 49 148 ]
	entity_spawn .homunculus: [ 30 149 148 ]
	entity_spawn .ilhuna: [ 130 49 148 ]
	entity_spawn .ilhuna_1_quest_item_a: [ 253 39 194 ]	
	entity_spawn .ilhuna_1_quest_item_b: [ 53 239 194 ]	
	entity_spawn .ilhuna_1_quest_item_c: [ 53 9 123 ]	
	entity_spawn .ilhuna_1_quest_item_d: [ 0 254 124 ]	
	entity_spawn .ilhuna_2_quest_item: [ 100 254 124 ]	
	entity_spawn .ilhuna_3_quest_item_monster: [ 103 81 10 ]
	entity_spawn .ilhuna_3_quest_item: [ 200 254 124 ]	
	
	entity_spawn realm_of_fire_lava_worm: [ 100 39 84 ]
	entity_spawn realm_of_fire_satyr_caster: [ 200 39 84 ]
	entity_spawn realm_of_fire_satyr_healer: [ 100 139 84 ]
	entity_spawn realm_of_fire_satyr_guard: [ 100 39 184 ]
	entity_spawn realm_of_fire_satyr_rogue: [ 0 239 84 ]
	entity_spawn realm_of_fire_satyr_ranged: [ 0 39 194 ]
	entity_spawn realm_of_fire_satyr_random: [ 153 39 194 ]	
	entity_spawn realm_of_fire_enslaved_fire_elemental: [ 7 38 205 ]
	entity_spawn realm_of_fire_magmacrawler: [ 107 35 109 ]
	entity_spawn realm_of_fire_magma_elemental: [ 207 35 109 ]	
		
	player_spawn .player_spawn: [ 0 0 255 ]	
	player_spawn .throne_of_voraghul_spawn: [ 50 0 255 ]	
	player_spawn .throne_of_voraghul_return_spawn: [ 0 50 255 ]	
}

map_palette .levels:
{
	level<22>: [ 0 107 255 ]
	level<23>: [ 130 107 255 ]
	level<24>: [ 255 155 107 ]
	level<25>: [ 255 107 236 ]
	level<26>: [ 177 175 120 ]
}

map_palette .zones:
{
	zone .realm_of_voraghul_landing: [ 0 255 255 ]
	zone .smoldering_fields: [ 255 173 0 ]	
	zone .burning_approach: [ 58 255 0 ]
	zone .bastion_courtyard: [ 123 0 255 ]
	zone .fiery_rift: [ 0 74 255 ]
	zone .desolate_plains: [ 255 0 189 ]
	zone .satyr_altar: [ 255 0 25 ]
	zone .the_infernal_flow: [ 244 215 142 ]
	zone .voraghuls_landing: [ 142 172 244 ]
	zone .ruined_tower: [ 142 244 237 ]
	zone .magma_pass: [ 170 118 175 ]
}

map_palette .sub_zones:
{
	sub_zone .bastion_of_urt: [ 36 204 63 ]
	sub_zone .altar_of_urt: [ 36 101 204 ]
	sub_zone .throne_of_voraghul: [ 215 142 244 ]
}

map_palette .routes:
{
	route realm_of_fire_default_patrol: [ 192 16 186 ]	
}

map_palette .doodads:
{
	doodad crates: [ 45 39 100 ]
	doodad sack: [ 35 100 200 ]
	doodad table: [ 35 130 200 ]
	doodad chair_left: [ 45 100 200 ]
	doodad bed: [ 35 130 240 ]
	doodad bookshelf: [ 35 140 100 ]
	doodad alchemy_bookshelf: [ 135 100 200 ]
	doodad empty_bookshelf: [ 135 200 200 ]
	doodad chair_right: [ 45 200 100 ]	
	doodad chair_bottom: [ 56 201 195 ]
	doodad bench: [ 58 221 113 ]
	doodad altar: [ 54 29 64 ]
	doodad wall_banner_red: [ 243 29 53 ]
	doodad broken_pillar: [ 136 130 200 ]
	doodad wall_banner_mining: [ 243 19 53 ]
	doodad wall_banner_blacksmithing: [ 243 59 53 ]
	doodad tent: [ 249 51 53 ]	
	doodad wall_banner_dark_green: [ 143 59 13 ]
	doodad dungeon_open_door: [ 193 13 59 ]	
	doodad statue_face_left: [ 193 63 59 ]	
	doodad statue_face_right: [ 193 73 19 ]	
	doodad ship: [ 193 173 119 ]	
	doodad stone_stairs: [ 192 173 19 ]	
	doodad wood_stairs: [ 192 19 173 ]	
	doodad large_statue: [ 193 73 20 ]	
	doodad counter: [ 197 73 20 ]	
	doodad stone_stairs_reversed: [ 19 173 192 ]	
	doodad wood_stairs_reversed: [ 173 19 192 ]	
	doodad animal_skull: [ 197 173 210 ]	
	doodad barrel: [ 111 38 84 ]
	doodad cage: [ 45 41 145 ]
	doodad rowboat: [ 145 46 145 ]
	doodad cobweb: [ 84 111 83 ]
	doodad dead_tree: [ 33 123 81 ]
	doodad tombstone: [ 99 99 119 ]
	doodad statue_angel: [ 199 199 119 ]
	doodad skull_stick: [ 39 81 167 ]
	doodad hole: [ 104 49 146 ]
	doodad weapon_rack: [ 31 49 49 ]
	doodad white_throne: [ 13 30 100 ]
	doodad hard_slope_w: [ 40 103 18 ]
	doodad hard_slope_n: [ 140 103 18 ]
	doodad hard_slope_s: [ 40 203 18 ]
	doodad hard_slope_e: [ 40 103 118 ]
	doodad jungle_plant_purple: [ 147 66 77 ]
	doodad closed_gate: [ 31 1 138 ]
	doodad fs_ground_mark: [ 30 105 39 ]	
}

map_palette .cliffs:
{
	cliff .rocky_cliff: [ 197 169 34 ]
	cliff .rocky_cliff_ramp: [ 36 152 174 ]

	cliff .badlands_cliff: [ 97 169 34 ]
	cliff .badlands_cliff_ramp: [ 136 152 74 ]

	cliff .wall_cliff: [ 197 169 134 ]
	cliff .wall_cliff_ramp: [ 136 152 174 ]

	cliff .dummy_cliff_0: [ 137 18 124 ]
	cliff .dummy_cliff_0_ramp: [ 116 56 134 ]	

	cliff .dummy_cliff_1: [ 197 16 134 ]
	cliff .dummy_cliff_1_ramp: [ 136 52 174 ]	

	cliff .dummy_cliff_2: [ 197 169 234 ]
	cliff .dummy_cliff_2_ramp: [ 136 252 174 ]	
}

map realm_of_fire:
{
	string: "Realm of Fire"
	type: open_world
	default_tile: lava
	default_player_spawn: .player_spawn
	default_fishing_loot_table: fish
	view_attenuation: 0
	view_attenuation_bias: 0
	view_hidden_visibility: 35	
	has_overview_map: true
	auto_doodads: true
	max_players: 80
	
	layers:
	[
		{
			palettes:	[ .tiles ]
			source:		"realm-of-fire-tiles.png"
		}

		{
			palettes:	[ .stuff ]
			source:		"realm-of-fire-stuff.png"
		}
		
		{
			palettes:	[ .levels ]
			source:		"realm-of-fire-levels.png"
		}		
		
		{
			palettes:	[ .zones ]
			source:		"realm-of-fire-zones.png"
		}				
		
		{ 
			palettes: 	[ .tiles ]
			source:		"realm-of-fire-cover.png"
			cover: 		true
		}
		
		{
			palettes:	[ .sub_zones ]
			source:		"realm-of-fire-subzones.png"
		}						
		
		{
			palettes:	[ .routes ]
			source:		"realm-of-fire-routes.png"
		}								
		
		{
			palettes:	[ .doodads ]
			source:		"realm-of-fire-doodads.png"
		}								

		{
			palettes:	[ .cliffs ]
			source:		"realm-of-fire-cliffs.png"
		}									
	]
}
 

